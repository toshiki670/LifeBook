# 概要: テーマ設定の即時同期

## 変更内容

- `AppLayout` の `clientLoader` で外観設定を取得し、マウント時にテーマを適用するように調整。
- 外観設定ページでテーマ選択が変わった際、即座に `applyTheme` を呼び出して全画面に反映。
- `theme.ts` のユーティリティを整理し、テーマ値の正規化・メディアクエリリスナー制御・レガシー API 対応を改善。
- 無効なテーマ値が渡された場合はライトテーマへフォールバックし、DOM 操作はクライアント環境に限定。

## 確認項目

- `read_lints` を実行し、変更ファイルに警告が無いことを確認
